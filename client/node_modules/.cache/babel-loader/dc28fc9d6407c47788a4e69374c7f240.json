{"ast":null,"code":"import { LockClosedIcon } from '@heroicons/vue/solid';\nimport { API_URL } from \"@/utils/consts\";\nimport router from \"@/router\";\nexport default {\n  name: 'authorization',\n  components: {\n    LockClosedIcon\n  },\n\n  data() {\n    return {\n      email: '',\n      firstName: '',\n      lastName: '',\n      password: '',\n      typeOfAccount: ''\n    };\n  },\n\n  methods: {\n    eventSignInClickHandler() {\n      const email = this.email;\n      const password = this.password;\n      const credentials = {\n        email,\n        password\n      };\n      console.log(credentials);\n      fetch(`${API_URL}/user/authorization`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'Application/json'\n        },\n        body: JSON.stringify(credentials)\n      }).then(response => {\n        if (response.status === 200) {\n          return response.json();\n        } else {\n          return false;\n        }\n      }).then(data => {\n        localStorage.setItem('accessToken', data.accessToken);\n        router.push(\"/movies\");\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2CA,SAAQA,cAAR,QAA6B,sBAA7B;AACA,SAAQC,OAAR,QAAsB,gBAAtB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,eAAe;AACbC,MAAI,EAAE,eADO;AAEbC,YAAU,EAAE;AACVJ;AADU,GAFC;;AAKbK,MAAI,GAAG;AACL,WAAO;AACLC,WAAK,EAAE,EADF;AAELC,eAAS,EAAE,EAFN;AAGLC,cAAQ,EAAE,EAHL;AAILC,cAAQ,EAAE,EAJL;AAKLC,mBAAa,EAAE;AALV,KAAP;AAOD,GAbY;;AAebC,SAAO,EAAE;AACPC,2BAAuB,GAAG;AACxB,YAAMN,KAAI,GAAI,KAAKA,KAAnB;AACA,YAAMG,QAAO,GAAI,KAAKA,QAAtB;AACA,YAAMI,WAAU,GAAI;AAClBP,aADkB;AAElBG;AAFkB,OAApB;AAIAK,aAAO,CAACC,GAAR,CAAYF,WAAZ;AACAG,WAAK,CAAE,GAAEf,OAAQ,qBAAZ,EAAkC;AACrCgB,cAAM,EAAE,MAD6B;AAErCC,eAAO,EAAE;AACP,0BAAgB;AADT,SAF4B;AAKrCC,YAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,WAAf;AAL+B,OAAlC,CAAL,CAMGS,IANH,CAMQC,QAAO,IAAK;AAClB,YAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,iBAAOD,QAAQ,CAACE,IAAT,EAAP;AACF,SAFA,MAEO;AACL,iBAAO,KAAP;AACF;AACD,OAZD,EAaKH,IAbL,CAaUjB,IAAG,IAAK;AACZqB,oBAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCtB,IAAI,CAACuB,WAAzC;AACA1B,cAAM,CAAC2B,IAAP,CAAY,SAAZ;AACD,OAhBL;AAiBF;;AA1BO;AAfI,CAAf","names":["LockClosedIcon","API_URL","router","name","components","data","email","firstName","lastName","password","typeOfAccount","methods","eventSignInClickHandler","credentials","console","log","fetch","method","headers","body","JSON","stringify","then","response","status","json","localStorage","setItem","accessToken","push"],"sourceRoot":"","sources":["/Users/apple/Desktop/roku-streaming/client/src/views/AuthorizationView.vue"],"sourcesContent":["<template>\r\n  <section class=\"signUp\">\r\n    <div class=\"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div class=\"max-w-md w-full space-y-8\">\r\n        <div>\r\n          <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">Sign in to your account</h2>\r\n        </div>\r\n        <form @submit.prevent=\"eventSignInClickHandler\" class=\"mt-8 space-y-6\" action=\"#\" method=\"POST\">\r\n          <input type=\"hidden\" name=\"remember\" value=\"true\"/>\r\n          <div class=\"rounded-md shadow-sm -space-y-px\">\r\n            <div>\r\n              <label for=\"email\" class=\"sr-only\">Email address</label>\r\n              <input id=\"email\" v-model=\"email\" name=\"email\" type=\"email\" autocomplete=\"email\" required=\"\"\r\n                     class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n                     placeholder=\"Email address\"/>\r\n            </div>\r\n            <div>\r\n              <label for=\"password\" class=\"sr-only\">Password</label>\r\n              <input id=\"password\" v-model=\"password\" name=\"password\" type=\"password\" autocomplete=\"current-password\"\r\n                     required=\"\"\r\n                     class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n                     placeholder=\"Password\"/>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\"\r\n                    class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">\r\n              <span class=\"absolute left-0 inset-y-0 flex items-center pl-3\"><LockClosedIcon\r\n                  class=\"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\" aria-hidden=\"true\"/></span>\r\n              Sign in\r\n            </button>\r\n            <br>\r\n            <p>Don't have an account?\r\n              <router-link to=\"/registration\">Sign Up</router-link>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport {LockClosedIcon} from '@heroicons/vue/solid'\r\nimport {API_URL} from \"@/utils/consts\"\r\nimport router from \"@/router\"\r\n\r\nexport default {\r\n  name: 'authorization',\r\n  components: {\r\n    LockClosedIcon,\r\n  },\r\n  data() {\r\n    return {\r\n      email: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      password: '',\r\n      typeOfAccount: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    eventSignInClickHandler() {\r\n      const email = this.email\r\n      const password = this.password\r\n      const credentials = {\r\n        email,\r\n        password,\r\n      }\r\n      console.log(credentials)\r\n      fetch(`${API_URL}/user/authorization`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'Application/json'\r\n        },\r\n        body: JSON.stringify(credentials)\r\n      }).then(response => {\r\n        if (response.status === 200) {\r\n          return response.json()\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n          .then(data => {\r\n            localStorage.setItem('accessToken', data.accessToken)\r\n            router.push(\"/movies\")\r\n          })\r\n    }\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n\r\n<style scoped lang=\"scss\">\r\n.signUp {\r\n  max-width: 1280px;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 40px 20px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  z-index: 2;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}